<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:applications="clr-namespace:Calculator.ViewModel.ViewModels.Applications;assembly=Calculator.ViewModel"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:patients="clr-namespace:Calculator.ViewModel.ViewModels.Patients;assembly=Calculator.ViewModel"
    xmlns:selectors="clr-namespace:Calculator.Selectors">

    <DataTemplate x:Key="ConfirmDataTemplate" DataType="{x:Type applications:ConfirmViewModel}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <TextBlock
                Margin="8"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                FontSize="18"
                Text="{Binding Message}" />
            <StackPanel
                Grid.Row="1"
                HorizontalAlignment="Right"
                Orientation="Horizontal">
                <Button
                    Margin="8"
                    Command="{Binding ConfirmCommand}"
                    Content="OK"
                    IsDefault="True"
                    Style="{StaticResource MaterialDesignFlatButton}" />
                <Button
                    Margin="8"
                    Command="{Binding CancelCommand}"
                    Content="Cancel"
                    IsCancel="True"
                    Style="{StaticResource MaterialDesignFlatButton}" />
            </StackPanel>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="TypeIntoTemplateNameDataTemplate" DataType="{x:Type patients:GetTemplateNameViewModel}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Grid>
                <TextBox
                    Margin="4"
                    VerticalAlignment="Center"
                    materialDesign:HintAssist.Hint="请输入模板名"
                    FontSize="16"
                    Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                    Text="{Binding Name, Mode=OneWayToSource, UpdateSourceTrigger=PropertyChanged}" />
            </Grid>

            <StackPanel
                Grid.Row="1"
                HorizontalAlignment="Right"
                Orientation="Horizontal">
                <Button
                    Margin="8"
                    Command="{Binding ConfirmCommand}"
                    Content="OK"
                    IsDefault="True"
                    Style="{StaticResource MaterialDesignFlatButton}" />
                <Button
                    Margin="8"
                    Command="{Binding CancelCommand}"
                    Content="Cancel"
                    IsCancel="True"
                    Style="{StaticResource MaterialDesignFlatButton}" />
            </StackPanel>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="SelectTemplateNameDataTemplate" DataType="{x:Type patients:SelectTemplateNameViewModel}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Grid>
                <ComboBox
                    Margin="8"
                    VerticalAlignment="Center"
                    materialDesign:ComboBoxAssist.MaxLength="2"
                    materialDesign:HintAssist.Hint="选择一个模板"
                    materialDesign:HintAssist.HintOpacity=".26"
                    IsEditable="False"
                    ItemsSource="{Binding Names}"
                    SelectedItem="{Binding SelectedName}" />
            </Grid>

            <StackPanel
                Grid.Row="1"
                HorizontalAlignment="Right"
                Orientation="Horizontal">
                <Button
                    Margin="8"
                    Command="{Binding ConfirmCommand}"
                    Content="OK"
                    IsDefault="True"
                    Style="{StaticResource MaterialDesignFlatButton}" />
                <Button
                    Margin="8"
                    Command="{Binding CancelCommand}"
                    Content="Cancel"
                    IsCancel="True"
                    Style="{StaticResource MaterialDesignFlatButton}" />
            </StackPanel>
        </Grid>
    </DataTemplate>

    <selectors:DialogWindowTemplate
        x:Key="DialogWindowTemplate"
        ConfirmDataTemplate="{StaticResource ConfirmDataTemplate}"
        GetTemplateNameDataTemplate="{StaticResource TypeIntoTemplateNameDataTemplate}"
        SelectTemplateNameDataTemplate="{StaticResource SelectTemplateNameDataTemplate}" />
</ResourceDictionary>